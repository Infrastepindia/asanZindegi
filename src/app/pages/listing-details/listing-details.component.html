<section class="details-wrap py-5">
  <div class="container" *ngIf="item as it; else notFound">
    <div class="row g-4">
      <div class="col-lg-7">
        <div class="media-wrap">
          <img [src]="it.cover" [alt]="it.title" class="img-fluid rounded-4 shadow" />
        </div>
      </div>
      <div class="col-lg-5">
        <h1 class="h4 mb-2 heading-cta">{{ it.title }}</h1>
        <div class="small text-secondary mb-2">
          <i class="bi bi-geo-alt me-1"></i>{{ it.location }}
          &nbsp;•&nbsp;
          <i class="bi bi-clock me-1"></i>{{ it.date | date: 'mediumDate' }}
          &nbsp;•&nbsp;
          <i class="bi bi-eye me-1"></i>{{ it.views }} views
        </div>
        <div class="mb-2" *ngIf="it.verified">
          <span class="verified-badge" [title]="it.verifiedType === 'Company' ? 'Verified Company' : 'KYC Verified'">
            <i class="bi" [ngClass]="it.verifiedType === 'Company' ? 'bi-patch-check-fill' : 'bi-shield-check'"></i>
            <span>{{ it.verifiedType === 'Company' ? 'Company' : 'KYC' }}</span>
          </span>
        </div>
        <div class="text-warning mb-3">
          <i class="bi bi-star-fill" *ngFor="let s of [1,2,3,4,5]; let i = index" [ngClass]="{ 'text-muted': i >= it.rating }"></i>
        </div>
        <div class="d-flex align-items-center justify-content-between mb-3">
          <div class="price fw-bold">₹{{ it.price }}<small class="text-secondary" *ngIf="it.unit"> / {{ it.unit }}</small></div>
          <span class="badge pill-badge"
            [ngClass]="{
              'badge-sell': it.type === 'Sell',
              'badge-rent': it.type === 'Rent',
              'badge-exchange': it.type === 'Exchange',
              'badge-service': it.type === 'Service'
            }"
          >{{ it.type }}</span>
        </div>
        <p class="text-secondary">Reliable {{ it.category.toLowerCase() }} service. Contact to discuss your requirement and scheduling. Pricing may vary based on scope.</p>
        <div class="d-flex gap-2">
          <a class="btn btn-join btn-lg" href="#">Call</a>
          <a class="btn btn-join btn-lg" href="#">Chat</a>
        </div>
        <div class="mt-3">
          <a routerLink="/listings" class="text-decoration-none">← Back to listings</a>
        </div>
      </div>
    </div>
  </div>
  <ng-template #notFound>
    <div class="container py-5">
      <h2 class="h5">Listing not found</h2>
      <a routerLink="/listings" class="text-decoration-none">Back to listings</a>
    </div>
  </ng-template>
</section>
